# =============================================================================
# GRC Platform - NestJS Backend Environment Variables
# =============================================================================
# Copy this file to .env and update the values for your environment.
# This NestJS backend runs alongside the Express backend on a different port.
# =============================================================================

# -----------------------------------------------------------------------------
# Application Settings
# -----------------------------------------------------------------------------

# Port for NestJS backend (default: 3002)
# Express backend uses 3001, so we use 3002 to avoid conflicts
PORT=3002

# Node environment (development, production, test)
NODE_ENV=development

# -----------------------------------------------------------------------------
# JWT Authentication
# -----------------------------------------------------------------------------

# REQUIRED: Secret key for signing JWT tokens
# Generate a strong secret: openssl rand -base64 32
# WARNING: Never commit real secrets to version control!
JWT_SECRET=your-super-secret-jwt-key-change-in-production

# JWT token expiration time (default: 24h)
JWT_EXPIRES_IN=24h

# -----------------------------------------------------------------------------
# PostgreSQL Database
# -----------------------------------------------------------------------------

# Database host (default: localhost)
DB_HOST=localhost

# Database port (default: 5432)
DB_PORT=5432

# Database username (default: postgres)
DB_USER=postgres

# Database password (default: postgres)
DB_PASSWORD=postgres

# Database name (default: grc_platform)
# Both Express and NestJS backends share this database
# NestJS uses 'nest_users' table, Express uses 'users' table
DB_NAME=grc_platform

# Auto-sync database schema (default: false)
# WARNING: Set to 'true' only in development!
# In production, use migrations instead.
DB_SYNC=true

# -----------------------------------------------------------------------------
# CORS Settings
# -----------------------------------------------------------------------------

# Allowed origins for CORS (comma-separated)
# Default allows localhost for development
CORS_ORIGINS=http://localhost:3000,http://localhost:3001,http://localhost:3002

# =============================================================================
# Demo Credentials (for initial setup only)
# =============================================================================
# The auth module creates a demo admin user on first login attempt.
# Set these environment variables to customize the demo admin credentials.
# If not set, defaults are used (admin@grc-platform.local / changeme)
# 
# WARNING: Change or remove these credentials in production!
# =============================================================================

# Demo admin email (default: admin@grc-platform.local)
DEMO_ADMIN_EMAIL=admin@grc-platform.local

# Demo admin password (default: changeme)
# Set a strong password in your local .env file
DEMO_ADMIN_PASSWORD=changeme

# =============================================================================
# Audit Logging
# =============================================================================
# Enable/disable audit logging (default: true)
# Set to 'false' to disable audit logging for performance testing
NEST_AUDIT_LOG_ENABLED=true
